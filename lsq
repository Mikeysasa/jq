 <!DOCTYPE html>
  <html>
  	<head>
  		<meta charset="utf-8" />
  		<title>购物车</title>
  		<link rel="stylesheet" type="text/css" href="css/text.css"/>
  	</head>
  	<script src="js/jquery-1.12.4.js" type="text/javascript" charset="utf-8"></script>
  	<body>
		<div class="beijing"></div>
		<div class="nav">
			<ul> 
			 <li><a href="https://www.taobao.com/"> 首页</a></li>
			 <li><a href="https://huodong.taobao.com/wow/a/act/tao/dailyact/4634/wupr?spm=a21bo.jianhua.201867-main.1.5af92a89ARWCTW&wh_pid=dailyAct-257518"> 女装</a></li> 
			 <li><a href="https://s.taobao.com/search?spm=a21bo.jianhua.201867-main.19.42582a89U3WquB&q=%E9%A3%9F%E5%93%81"> 食品</a></li> 
			 <li><a href="https://s.taobao.com/search?spm=a21bo.jianhua.201867-main.7.42582a89U3WquB&q=%E7%BE%8E%E5%A6%86"> 美妆</a></li>  
			 <li><a href="https://s.taobao.com/search?spm=a21bo.jianhua.201867-main.14.42582a89U3WquB&q=%E6%95%B0%E7%A0%81"> 数码</a></li>  
			 <li><a href="https://s.taobao.com/search?spm=a21bo.jianhua.201867-main.6.42582a89U3WquB&q=%E7%AE%B1%E5%8C%85&imgfile=&commend=all&ssid=s5-e&search_type=item&sourceId=tb.index&ie=utf8&initiative_id=tbindexz_20170306"> 箱包</a></li>  
			 <li><a href="https://s.taobao.com/search?spm=a21bo.jianhua.201867-main.12.42582a89U3WquB&q=%E7%99%BE%E8%B4%A7"> 百货 </a></li>  
			 <li><a href="https://s.taobao.com/search?spm=a21bo.jianhua.201867-main.17.42582a89U3WquB&q=%E7%94%B5%E5%99%A8"> 电器</a></li>   
			</ul>   
		</div>  
		
       <div class="w">
           <div class="cart-warp">
                <div class="cart-thead">
                   <div class="t-checkbox">
                       <input type="checkbox" name="" id="" class="checkall"> 全选
                    </div>
                   <div class="t-goods">商品</div>
                   <div class="t-price">单价</div>
                   <div class="t-num">数量</div>
                   <div class="t-sum">小计</div>
                   <div class="t-action">操作</div>
               </div>
               <div class="cart-item-list">
                   <div class="cart-item check-cart-item">
                      <div class="p-checkbox">
                          <input type="checkbox" name="" id="" checked class="j-checkbox">
                       </div>
                       <div class="p-goods">
                           <div class="p-img">
                               <img src="./img/下载.jpg" >
                           </div>
                           <div class="p-msg">【5本20.6元】格林童话故事书</div>
                       </div>
                       <div class="p-price">￥20.60</div>
                       <div class="p-num">
                           <div class="quantity-form">
                               <a href="javascript:;" class="decrement">-</a>
                               <input type="text" class="itxt" value="1">
                              <a href="javascript:;" class="increment">+</a>
                           </div>
                       </div>
                       <div class="p-sum">￥20.60</div>
                       <div class="p-action"><a href="javascript:;">删除</a></div>
                   </div>
                   <div class="cart-item">
                       <div class="p-checkbox">
                           <input type="checkbox" name="" id="" class="j-checkbox">
                       </div>
                       <div class="p-goods">
                           <div class="p-img">
                               <img src="./img/OIP-C.jpg">
                           </div>
                           <div class="p-msg">科学漫画全集</div>
                       </div>
                       <div class="p-price">￥26.80</div>
                       <div class="p-num">
                           <div class="quantity-form">
                              <a href="javascript:;" class="decrement">-</a>
                              <input type="text" class="itxt" value="1">
                              <a href="javascript:;" class="increment">+</a>
                           </div>
                       </div>
                      <div class="p-sum">￥26.80</div>
                       <div class="p-action"><a href="javascript:;">删除</a></div>
                   </div>
                   <div class="cart-item">
                       <div class="p-checkbox">
                           <input type="checkbox" name="" id="" class="j-checkbox">
                       </div>
                       <div class="p-goods">
                           <div class="p-img">
                               <img src="img/OIP-C%20(1).jpg">
                           </div>
                           <div class="p-msg">《熊孩子励志成长记》课外阅读</div>
                       </div>
                       <div class="p-price">￥28.80</div>
                       <div class="p-num">
                           <div class="quantity-form">
                               <a href="javascript:;" class="decrement">-</a>
                               <input type="text" class="itxt" value="1">
                               <a href="javascript:;" class="increment">+</a>
                           </div>
                       </div>
                       <div class="p-sum">￥28.80</div>
                      <div class="p-action"><a href="javascript:;">删除</a></div>
                  </div>
               </div>
               <div class="cart-floatbar">
                   <div class="select-all">
                       <input type="checkbox" name="" id="" class="checkall">全选
                   </div>
                  <div class="operation">
                       <a href="javascript:;" class="remove-batch"> 删除选中的商品</a>
                       <a href="javascript:;" class="clear-all">清空购物车</a>
                   </div>
                   <div class="toolbar-right">
                       <div class="amount-sum">已经选<em>1</em>件商品</div>
                       <div class="price-sum">总价： <em>￥20.60</em></div>
                       <div class="btn-area">去结算</div>
                  </div>
               </div>  
           </div> 
      </div>
	  </div>  
  	</body>
  </html>
	   <script>
	  $(document).ready(function(){
	    $(".nav li a").each(function(){ 
	      if($(this)[0].href==String(window.location)){ 
	        $(this).addClass("on").siblings().removeClass("on"); 
	      } 
	    }); 
	  }); 
	     $(function () {
	               $(".nav>li").mouseover(function () {
	                   $(this).children("ul").show();
	               });
	               $(".nav>li").mouseout(function () {
	                   $(this).children("ul").hide();
	               })
	           })
	  $(function() {
	  	function saveDecimal(num, count) {
	  		return num.toFixed(count);
	  	}
	  	function getTotal() {
	  		var count = 0;
	  		var sum = 0;
	  		$(".j-checkbox:checked").parents(".cart-item").find(".itxt").each(function(i, ele) {
	  			count += parseInt($(ele).val());
	  		})
	  		$(".j-checkbox:checked").parents(".cart-item").find(".p-sum").each(function(i, ele) {
	  			sum += parseFloat($(ele).html().substr(1));
	  		})
	  		$(".amount-sum em").html(count);
	  		$(".price-sum em").html("￥" + saveDecimal(sum, 2));
	  	}
	  	$(".increment").click(function() {
	  		var quantity = $(this).prev(".itxt").val();
	  		quantity++;
	  		$(this).prev(".itxt").val(quantity)
	  		var price = $(this).parents(".p-num").siblings(".p-price").html().substr(1);
	  		var sum = quantity * price;
	  		$(this).parents(".p-num").siblings(".p-sum").html("￥" + saveDecimal(sum, 2));
	  		getTotal();
	   
	  	});
	  	$(".decrement").click(function() {
	  		var quantity = $(this).next(".itxt").val();
	  		(quantity <= 1) ? (quantity) : (quantity--);
	  		$(this).next(".itxt").val(quantity)
	  		var price = $(this).parents(".p-num").siblings(".p-price").html().substr(1);
	  		var sum = quantity * price;
	  		$(this).parents(".p-num").siblings(".p-sum").html("￥" + saveDecimal(sum, 2));
	  		getTotal();
	   
	  	});
	  	$(".checkall").change(function() {
	  		$(".checkall, .j-checkbox").prop("checked", $(this).prop("checked"));
	  		getTotal();
	  		if($(this).prop("checked")) {
	  			$(".cart-item").addClass("check-cart-item");
	  		} else {
	  			$(".cart-item").removeClass("check-cart-item");
	  		}
	  	})
	  	$(".j-checkbox").change(function() {
	  		if($(".j-checkbox:checked").length == $(".j-checkbox").length) {
	  			$(".checkall").attr("checked", true);
	  		} else {
	  			$(".checkall").attr("checked", false);
	  		}
	  		getTotal();
	  		console.log($(this).attr("checked"))
	  		if($(this).prop("checked")) {
	  			$(this).parents(".cart-item").addClass("check-cart-item");
	  		} else {
	  			$(this).parents(".cart-item").removeClass("check-cart-item");
	  		}
	  	});
	  	$(".itxt").change(function() {
	  		var quantity = $(this).val();
	  		if(quantity <= 0) {
	  			alert("数量不为零或负数");
	  			$(this).val(1);
	  			return;
	  		}
	  		var price = $(this).parents(".p-num").siblings(".p-price").html().substr(1);
	  		var sum = quantity * price;
	  		$(this).parents(".p-num").siblings(".p-sum").html("￥" + saveDecimal(sum, 2));
	  		getTotal();
	  	});
	  	$(".p-action").click(function() {
	  		if(confirm("您确定要删除吗？")) {
	  			$(this).parents(".cart-item").remove();
	  		}
	  		getTotal();
	  	});
	  	$(".remove-batch").click(function() {
	  		if(confirm("您确定要删除吗？")) {
	  			$(".j-checkbox:checked").parents(".cart-item").remove();
	  		}
	  		getTotal();
	  	});
	  	$(".clear-all").click(function(){
	  		if(confirm("您确定要清空吗？")) {
	  			$(".cart-item").remove();
	  		}
	  		getTotal();
	  	});
	  });
	  </script>
</body>
</html>
//css
* {
 	margin: 0;
 	padding: 0
 }
 .beijing{
	 position: fixed;
	 top: 0;
	 left: 0;
	 width: 100%;
	 height: 100%;
	 min-width: 1000px;
	 z-index: -10;
	 zoom: 1;
	 background-color: #fff;
	 background-image: url(../img/100509degua4btpjjfrka8.jpeg);
	 background-repeat: no-repeat;
	 background-size: cover;
	 -webkit-background-size: cover;
	 -o-background-size:cover;
	 background-position: center 0; 
 }
a{
	text-decoration: none;
	
	
}
.nav{
	width: 100%;
	height: 50px;
	background: #ff999a;
	position: center;
} 
.nav ul li{
	float: left;
	margin-left: 62px;
	padding:2px;
	list-style: none;
}
.nav ul li a{
	width: 100px;
	line-height: 50px;
	text-align:center;
	display: block;
	color:white;
	font-size: 20px;
}
.nav .on{
	color: #fff;
	background: red;
}
 em,
 i {
 	font-style: normal;
 }
 li {
 	list-style: none;
 }
 a {
 	color: #666;
 	text-decoration: none;
 }
 a:hover {
 	color: #e33333;
 }
 body {
 	font: 14px/1.5 'Microsoft YaHei', 'Heiti SC', tahoma, arial, 'Hiragino Sans GB', \\5B8B\4F53, sans-serif;
 	color: #666
 }
 .w {
 	width: 1200px;
 	margin: 0 auto;
 }
 .cart-thead {
 	height: 32px;
 	line-height: 32px;
 	margin: 5px 0 10px;
 	padding: 5px 0;
 	background: papayawhip;
 	border: 1px solid #e9e9e9;
 	border-top: 0;
 	position: relative;
 }
 .cart-thead>div,
 .cart-item>div {
 	float: left;
 }
 .t-checkbox,
 .p-checkbox {
 	height: 18px;
 	line-height: 18px;
 	padding-top: 7px;
 	width: 122px;
 	padding-left: 11px;
 }
 .t-goods {
 	width: 400px;
 	font-weight: bolder;
 }
 .t-price {
 	width: 120px;
 	padding-right: 40px;
 	text-align: right;
 	font-weight: bolder;
 }
 .t-num {
 	width: 150px;
 	text-align: center;
 	font-weight: bolder;
 }
 .t-sum {
 	width: 100px;
 	text-align: right;
 	font-weight: bolder;
 }
 .t-action {
 	width: 130px;
 	text-align: right;
 	font-weight: bolder;
 }
 .cart-item {
 	height: 120px;
 	border-style: solid;
 	border-width: 2px 1px 1px;
 	border-color: #aaa #f1f1f1 #f1f1f1;
 	background: #fff;
 	padding-top: 14px;
 	margin: 15px 0;
 }
 .check-cart-item {
 	background: azure;
 }
 .p-checkbox {
 	width: 50px;
 }
 .p-goods {
 	margin-top: 8px;
 	width: 565px;
 }
 img{
 	width: 100px;
 	height: 90px;
 }
 .p-img {
 	float: left;
 	border: 1px solid #ccc;
 	padding: 5px;
 }
 .p-msg {
 	float: left;
 	width: 210px;
 	margin: 0 10px;
 }
 .p-price {
 	width: 110px;
 }
 .quantity-form {
 	width: 80px;
 	height: 22px;
 }
 .p-num {
 	width: 170px;
 }
 .decrement,
 .increment {
 	float: left;
 	border: 1px solid #cacbcb;
 	height: 18px;
 	line-height: 18px;
 	padding: 1px 0;
 	width: 16px;
 	text-align: center;
 	color: #666;
 	background: #fff;
 	margin-left: -1px;
 }
 .itxt {
 	float: left;
 	border: 1px solid #cacbcb;
 	width: 42px;
 	height: 18px;
 	line-height: 18px;
 	text-align: center;
 	padding: 1px;
 	margin-left: -1px;
 	font-size: 12px;
 	font-family: verdana;
 	color: #333;
 	-webkit-appearance: none;
 }
 .p-sum {
 	font-weight: 700;
 	width: 145px;
 }
 .cart-floatbar {
 	height: 50px;
 	border: 1px solid #f0f0f0;
 	background: #fff;
 	position: relative;
 	margin-bottom: 50px;
 	line-height: 50px;
 	background: papayawhip;
 }
 
 .select-all {
 	float: left;
 	height: 18px;
 	line-height: 18px;
 	padding: 16px 0 16px 9px;
 	white-space: nowrap;
 }
 
 .select-all input {
 	vertical-align: middle;
 	display: inline-block;
 	margin-right: 5px;
 }
 .operation {
 	float: left;
 	width: 300px;
 	margin-left: 30px;
 }
 .clear-all {
 	font-weight: 700;
 	margin: 0 20px;
 }
 .toolbar-right {
 	float: right;
 }
 .amount-sum {
 	float: left;
 }
 .amount-sum em {
 	font-weight: 700;
 	color: #E2231A;
 	padding: 0 3px;
 }
 .price-sum {
 	float: left;
 	margin: 0 15px;
 }
 .price-sum em {
 	font-size: 16px;
 	color: #E2231A;
 	font-weight: 700;
 }
 .btn-area {
 	font-weight: 700;
 	width: 94px;
 	height: 52px;
 	line-height: 52px;
 	color: #fff;
 	text-align: center;
 	font-size: 18px;
 	font-family: "Microsoft YaHei";
 	background: #e54346;
 	overflow: hidden;
 }
